import { Callout, Steps, Tabs } from "nextra/components";
import { Bleed } from "nextra-theme-docs";

# Tree View

A tree view that assembles all the functionalities

```jsx copy
import { TreeView, TreeViewElement } from "@/components/extension/tree-view";

export const CustomFilesTreeView = ({
  elements,
}: {
  elements: TreeViewElement[],
}) => {
  return <TreeView elements={elements} initialSelectedId="21" />;
};
```

## About

This component has 2 ways to use it , you can use the built in component , if you don't want to build a fully custom one with behvoir, or you can use the built in api to build your own custom tree view with your own behvoir.

<Callout type="info">
  Note that the built in component uses the built in api to build the tree view
  , so if you want to use it you need to have the built in api installed in your
  project
</Callout>

## Installation

<Steps>
  ### Install the package from radix
  ```bash copy
    npm install @radix-ui/react-accordion use-resize-observer
  ```
  ### Copy paste the code that you will find in this github folder
  ```link copy
  https://github.com/BelkacemYerfa/shadcn-extension-components/blob/master/packages/src/components/extension/tree-view
  ```
  ### Update your Tailwinds config file (tailwind.config.js)
  ```ts
  /** @type {import('tailwindcss').Config} */
  module.exports = {
    theme: {
      extend: {
        keyframes: {
          "accordion-down": {
            from: { height: "0" },
            to: { height: "var(--radix-accordion-content-height)" },
          },
          "accordion-up": {
            from: { height: "var(--radix-accordion-content-height)" },
            to: { height: "0" },
          },
        },
        animation: {
          "accordion-down": "accordion-down 0.2s ease-out",
          "accordion-up": "accordion-up 0.2s ease-out",
        },
      },
    },
  };
  ```
  ### Import the component and enjoy with it
</Steps>

## API Reference

### Props

The TreeView component accepts the following props:

| Prop                 |  Type   | Default value |
| :------------------- | :-----: | ------------: |
| initialSelectedId    | string  |            -- |
| expendAll            | boolean |         false |
| elements             |  Array  |            -- |
| initialExpendedItems |  Array  |            -- |

### initialSelectedId

The id of the element that should be selected by default (optional)

### expendAll

Boolean that indicates if all the elements should be expended by default (optional)

<Callout type="warning">
  The `initialExpendedItems` with `expendAll` will not work together, if you
  want to expend all the items you should use `expendAll` prop only , if you
  want to expend some items you should use `initialExpendedItems` prop only
</Callout>

### elements

Description of the element object inside this Array (required) that is passed to the TreeView component

| Field        |      Type       | Default value |
| :----------- | :-------------: | ------------: |
| id           |     string      |            -- |
| name         |     string      |            -- |
| children     | TreeViewElement |            -- |
| isSelectable |     boolean     |            -- |

### initialExpendedItems

Array of the ids of the elements that should be expended by default (optional)

## Accessibility

Currently, the TreeView component is fully accessible and supports keyboard navigation.

### Keyboard Navigation

| key             |             Description              |
| :-------------- | :----------------------------------: |
| `Tab`           |        enter a nested folder         |
| `Tab` + `Shift` |   exit the current selected folder   |
| `ArrowDown`     |  Increments by one step horzintanly  |
| `ArrowUp`       |  Decrements by one step horzintanly  |
| `Enter`         | Opens/Close a folder , select a file |

## Usage Examples

### Basic Usage :

This is a basic example of how to use the TreeView component

```jsx
import { TreeView, TreeViewElement } from "@/components/extension/tree-view";

const elements: TreeViewElement[] = [
  {
    id: "1",
    name: "Element 1",
    isSelectable: true,
    children: [
      {
        id: "11",
        name: "Element 11",
        isSelectable: true,
      },
      {
        id: "12",
        name: "Element 12",
        isSelectable: true,
      },
    ],
  },
];

export const CustomFilesTreeView = () => {
  return <TreeView elements={elements} initialSelectedId="1" />;
};
```

But if you want to build your custom tree view with your own behvoir you can use the built in primitive api to build your custom tree view.

```jsx
import {
  Tree,
  Folder,
  File,
} from "@/components/extension/tree-view/tree-view-api.tsx";
export const TreeFileTest = () => {
  return (
    <Tree
      className="rounded-md outline h-60 w-96 outline-1 outline-muted overflow-hidden py-1"
      initialExpendedItems={["components"]}
      initialSelectedId="carousel.tsx"
    >
      <Folder element="src">
        <File element="app.tsx">
          <p> app.tsx </p>
        </File>
        <Folder element="components">
          <File element="input.tsx">
            <p> input.tsx </p>
          </File>
          <File element="button.tsx">
            <p> button.tsx </p>
          </File>
          <Folder element="pages">
            <File element="interface.ts">
              <p>interface.ts</p>
            </File>
          </Folder>
        </Folder>
        <Folder element="ui">
          <File element="carousel.tsx">
            <p>carousel.tsx</p>
          </File>
        </Folder>
      </Folder>
    </Tree>
  );
};
```
